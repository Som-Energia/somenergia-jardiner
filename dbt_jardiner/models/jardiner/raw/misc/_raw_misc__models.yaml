version: 2

models:
  - name: raw_devices__with_signals
    description: >
      Taula amb la llista de devices, els seus uuids i si tenen un parent.
    columns:
      - name: plant
        description: nom de la planta
      - name: signal
        description: nom del senyal
      - name: metric
        description: nom de la metrica
      - name: device
        description: nom del device
      - name: device_type
        description: tipus de device
      - name: device_parent
        description: uuid del pare de un aparell, si en t√©
      - name: signal_uuid
        description: uuid4 del senyal
        tests:
          - unique
      - name: device_uuid
        description: uuid4 del device
    tests:
      - dbt_utils.unique_combination_of_columns:
          config:
            severity: error
          combination_of_columns:
            - device_uuid
            - signal_uuid
